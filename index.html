<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Impactor-2025: Система моделирования астероидных угроз</title>
    <link rel="stylesheet" href="./css/styles.css"/>
    <!-- Leaflet CSS и JS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.js"></script>
</head>
<body>
    
    <!-- Контейнер для сцены -->
    <div id="canvas-container"></div>
    <nav id="header">
        <div class="choose-container">
            <div class="choose-header">Выбранный объект:</div>
            <div id="object-name" class="choose-description">Нет</div>
        </div>
        <div class="stats-container">
            <div class="stats">
                <div class="stat">
                    <span class="icon">
                        <svg xmlns="http://www.w3.org/2000/svg" height="28px" viewBox="0 -960 960 960" width="28px" fill="currentColor"><path d="M240-100q-58 0-99-41t-41-99q0-58 41-99t99-41q58 0 99 41t41 99q0 22-6.5 42.5T354-159v-27q30 13 62 19.5t64 6.5q134 0 227-93t93-227h80q0 83-31.5 156T763-197q-54 54-127 85.5T480-80q-45 0-88-9.5T309-118q-16 9-33.5 13.5T240-100Zm0-80q25 0 42.5-17.5T300-240q0-25-17.5-42.5T240-300q-25 0-42.5 17.5T180-240q0 25 17.5 42.5T240-180Zm240-160q-58 0-99-41t-41-99q0-58 41-99t99-41q58 0 99 41t41 99q0 58-41 99t-99 41ZM80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q45 0 88 9.5t83 28.5q16-9 33.5-13.5T720-860q58 0 99 41t41 99q0 58-41 99t-99 41q-58 0-99-41t-41-99q0-22 6.5-42.5T606-801v27q-30-13-62-19.5t-64-6.5q-134 0-227 93t-93 227H80Zm640-180q25 0 42.5-17.5T780-720q0-25-17.5-42.5T720-780q-25 0-42.5 17.5T660-720q0 25 17.5 42.5T720-660ZM240-240Zm480-480Z"/></svg>
                    </span>
                    <span class="stat-value" id="asteroid-count">39443</span>
                </div>
                <div class="stat">
                    <span class="icon">
                        <svg xmlns="http://www.w3.org/2000/svg" height="28px" viewBox="0 -960 960 960" width="28px" fill="currentColor"><path d="M240-120v-80l40-40H160q-33 0-56.5-23.5T80-320v-440q0-33 23.5-56.5T160-840h640q33 0 56.5 23.5T880-760v440q0 33-23.5 56.5T800-240H680l40 40v80H240Zm-80-200h640v-440H160v440Zm0 0v-440 440Z"/></svg>
                    </span>
                    <div class="stat-value" id="fps-counter">60</div>
                </div>
                <div class="stat">
                    <span class="icon"><svg xmlns="http://www.w3.org/2000/svg" height="28px" viewBox="0 -960 960 960" width="28px" fill="currentColor"><path d="M120-120v-240h80v104l124-124 56 56-124 124h104v80H120Zm516-460-56-56 124-124H600v-80h240v240h-80v-104L636-580Z"/></svg></span>
                    <div class="stat-value" id="camera-distance">100М км</div>
                </div>
            </div>
            <div class="icons-container">
                <button id="toggle-filters" class="toggle-btn tab-btn" data-tab="filters">
                    <svg xmlns="http://www.w3.org/2000/svg" height="32px" viewBox="0 -960 960 960" width="32px" fill="#FFFFFF"><path d="M440-160q-17 0-28.5-11.5T400-200v-240L168-736q-15-20-4.5-42t36.5-22h560q26 0 36.5 22t-4.5 42L560-440v240q0 17-11.5 28.5T520-160h-80Zm40-308 198-252H282l198 252Zm0 0Z"/></svg>
                </button>
                <button id="toggle-info" class="toggle-btn">
                    <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#FFFFFF"><path d="M300-640v320l160-160-160-160ZM200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h560q33 0 56.5 23.5T840-760v560q0 33-23.5 56.5T760-120H200Zm440-80h120v-560H640v560Zm-80 0v-560H200v560h360Zm80 0h120-120Z"/></svg>
                </button>

                <button id="toggle-settings" class="toggle-btn">
                    <svg xmlns="http://www.w3.org/2000/svg" height="32px" viewBox="0 -960 960 960" width="32px" fill="#FFFFFF"><path d="m370-80-16-128q-13-5-24.5-12T307-235l-119 50L78-375l103-78q-1-7-1-13.5v-27q0-6.5 1-13.5L78-585l110-190 119 50q11-8 23-15t24-12l16-128h220l16 128q13 5 24.5 12t22.5 15l119-50 110 190-103 78q1 7 1 13.5v27q0 6.5-2 13.5l103 78-110 190-118-50q-11 8-23 15t-24 12L590-80H370Zm70-80h79l14-106q31-8 57.5-23.5T639-327l99 41 39-68-86-65q5-14 7-29.5t2-31.5q0-16-2-31.5t-7-29.5l86-65-39-68-99 42q-22-23-48.5-38.5T533-694l-13-106h-79l-14 106q-31 8-57.5 23.5T321-633l-99-41-39 68 86 64q-5 15-7 30t-2 32q0 16 2 31t7 30l-86 65 39 68 99-42q22 23 48.5 38.5T427-266l13 106Zm42-180q58 0 99-41t41-99q0-58-41-99t-99-41q-59 0-99.5 41T342-480q0 58 40.5 99t99.5 41Zm-2-140Z"/></svg>
                </button>
            </div>
        </div>
    </nav>
    <div id="loading" class="loading">
        <div class="loading-spinner"></div>
        <div>Инициализация системы...</div>
    </div>
    <div id="time-picker">
        <div class="slider-container">
            <input type="range" id="time-speed" class="slider" min="0" max="100" value="10">
            <span class="value-display" id="time-speed-value">1 день/сек</span>
        </div>
        <div class="time-display" id="current-time">1 января 2025</div>
    </div>

    <!-- Панель создания астероида -->
    <div id="asteroid-creator-panel" class="ui-panel" style="display: none;">
        <h3>Создание астероида</h3>
        
        <div class="control-group">
            <label>Размер: <span id="size-value">1 км</span></label>
            <input type="range" id="asteroid-size" class="slider" min="10" max="10000" value="1000">
        </div>

        <div class="control-group">
            <label>Скорость: <span id="velocity-value">20 км/с</span></label>
            <input type="range" id="asteroid-velocity" class="slider" min="10" max="30" value="20">
        </div>

        <div class="control-group">
            <label>Материал</label>
            <select id="asteroid-material" style="width: 100%; padding: 8px; background: #2d2d2d; color: white; border: 1px solid rgba(255,255,255,0.2); border-radius: 4px;">
                <option value="stone">Каменный</option>
                <option value="metal">Металлический</option>
                <option value="ice">Ледяной</option>
            </select>
        </div>

        <div class="control-group">
            <label>Угол входа: <span id="angle-value">45°</span></label>
            <input type="range" id="entry-angle" class="slider" min="0" max="90" value="45">
        </div>

        <div style="display: flex; gap: 10px; margin-top: 20px;">
            <button class="btn primary" id="create-asteroid-btn">Создать</button>
            <button class="btn" id="cancel-asteroid-btn">Отмена</button>
        </div>
    </div>
    <!-- Кнопки переключения панелей -->
    <div class="scene-selector">
        
        <!-- Необходимо позже добавить городскую сцену -->
        <button class="scene-button" data-scene="planet-surface">
            <svg xmlns="http://www.w3.org/2000/svg" height="28px" viewBox="0 -960 960 960" width="28px" fill="currentColor"><path d="M120-120v-560h160v-160h400v320h160v400H520v-160h-80v160H120Zm80-80h80v-80h-80v80Zm0-160h80v-80h-80v80Zm0-160h80v-80h-80v80Zm160 160h80v-80h-80v80Zm0-160h80v-80h-80v80Zm0-160h80v-80h-80v80Zm160 320h80v-80h-80v80Zm0-160h80v-80h-80v80Zm0-160h80v-80h-80v80Zm160 480h80v-80h-80v80Zm0-160h80v-80h-80v80Z"/></svg>
        
        </button>
        <button class="scene-button" data-scene="earth-orbit">
            <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="currentColor"><path d="M480-80q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm-40-82v-78q-33 0-56.5-23.5T360-320v-40L168-552q-3 18-5.5 36t-2.5 36q0 121 79.5 212T440-162Zm276-102q41-45 62.5-100.5T800-480q0-98-54.5-179T600-776v16q0 33-23.5 56.5T520-680h-80v80q0 17-11.5 28.5T400-560h-80v80h240q17 0 28.5 11.5T600-440v120h40q26 0 47 15.5t29 40.5Z"/></svg>
            
        </button>
        <button class="scene-button active" data-scene="solar-system">
            <svg xmlns="http://www.w3.org/2000/svg" height="28px" viewBox="0 -960 960 960" width="28px" fill="currentColor"><path d="M449-539q21 0 35.5-14.5T499-589q0-21-14.5-35.5T449-639q-21 0-35.5 14.5T399-589q0 21 14.5 35.5T449-539ZM822-80q-42 0-113-35t-152-95q-19 5-38.5 7.5T479-200q-117 0-198-81t-81-198q0-20 3-40t8-39q-59-81-94.5-151.5T81-822q0-27 15-42.5t41-15.5q26 0 67.5 18T319-801q-21 11-39 23t-35 26q-19-11-37-19t-38-17q18 38 38.5 74t43.5 71q38-54 97-85t130-31q117 0 198.5 81.5T759-479q0 71-31.5 130T642-252q35 23 71.5 44t74.5 38q-8-19-16.5-37T752-244q15-17 27-36t22-39q46 78 62.5 116.5T880-138q0 29-16 43.5T822-80ZM549-359q17 0 28.5-11.5T589-399q0-17-11.5-28.5T549-439q-17 0-28.5 11.5T509-399q0 17 11.5 28.5T549-359Zm50-140q13 0 21.5-8.5T629-529q0-13-8.5-21.5T599-559q-13 0-21.5 8.5T569-529q0 13 8.5 21.5T599-499ZM468-281q-51-44-98-91t-90-98q2 38 17 71.5t41 59.5q26 26 59 41t71 17Zm103-21q48-25 78-72.5T679-480q0-83-58.5-141T479-679q-58 0-105 30t-72 78q57 76 125 144t144 125Zm-197-73Zm117-116Z"/></svg>
        
        </button>
    </div>

    <!-- Скрытые элементы для околоземной сцены -->
    <div id="click-instruction" style="display: none;">
        Кликните в любом месте экрана, чтобы запустить астероид в эту точку
    </div>
    
    <div id="controls" style="display: none;">
        <h3>Параметры симуляции</h3>
        
        <div class="control-group">
            <label for="asteroid-size-sim">Размер астероида</label>
            <input type="range" id="asteroid-size-sim" min="0.8" max="4" step="0.1" value="2.5">
            <div class="value-display" id="size-value-sim">2.5 км</div>
        </div>
        
        <div class="control-group">
            <label for="asteroid-speed">Скорость столкновения</label>
            <input type="range" id="asteroid-speed" min="10" max="50" step="2" value="25">
            <div class="value-display" id="speed-value-sim">25 км/с</div>
        </div>
        
        <div class="control-group">
            <label for="blast-radius">Радиус взрыва</label>
            <input type="range" id="blast-radius" min="1" max="6" step="0.2" value="3">
            <div class="value-display" id="blast-value">3.0</div>
        </div>
        
        <div class="control-group">
            <label>
                <input type="checkbox" id="gravity-enabled" checked>
                Включить гравитацию
            </label>
        </div>
        
        <div class="control-group">
            <label>
                <input type="checkbox" id="atmosphere-enabled" checked>
                Показывать атмосферу
            </label>
        </div>
        
        <div class="control-group">
            <button id="reset-simulation" class="reset-btn">Полный сброс</button>
        </div>
    </div>
    
    <div id="info" style="display: none;">
        <div>Активных астероидов: <span id="active-asteroids">0</span></div>
        <div>Всего запущено: <span id="total-launched">0</span></div>
        <div>Энергия удара: <span id="impact-energy">-</span></div>
        <div class="particle-info">
            <div>Частиц Земли: <span id="earth-particles">80000</span></div>
            <div>Частиц атмосферы: <span id="atmosphere-particles">15000</span></div>
            <div>Разрушенных: <span id="destroyed-particles">0</span></div>
            <div>В полете: <span id="flying-particles">0</span></div>
            <div>На орбите: <span id="orbiting-particles">0</span></div>
            <div class="temperature-display">Макс. температура: <span id="max-temp">20</span>°C</div>
        </div>
    </div>

    <div class="control-panel" id="info-panel">
        <div class="group">
            <div class="wrapper"style="flex: 2;">
                <div class="text-content justify-end align-end tab-btn" data-tab="asteroids">
                    <span class="text-back">Настройки</span>
                    <span class="text-front">Астероидов</span>
                </div>
                <img class="asteroid-image" alt="asteroid-image" src="./data/Asteroid.png" />
            </div>
            <div class="wrapper" style="flex: 1;">
                <div class="text-content tab-btn" data-tab="earthOrbit">
                    <span class="text-back">Параметры</span>
                    <span class="text-front">Земли</span>
                    <svg xmlns="http://www.w3.org/2000/svg" height="48px" viewBox="0 -960 960 960" width="48px" fill="#FFFFFF"><path d="M200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h168q13-36 43.5-58t68.5-22q38 0 68.5 22t43.5 58h168q33 0 56.5 23.5T840-760v268q-19-9-39-15.5t-41-9.5v-243H200v560h242q3 22 9.5 42t15.5 38H200Zm0-120v40-560 243-3 280Zm80-40h163q3-21 9.5-41t14.5-39H280v80Zm0-160h244q32-30 71.5-50t84.5-27v-3H280v80Zm0-160h400v-80H280v80Zm200-190q13 0 21.5-8.5T510-820q0-13-8.5-21.5T480-850q-13 0-21.5 8.5T450-820q0 13 8.5 21.5T480-790ZM720-40q-83 0-141.5-58.5T520-240q0-83 58.5-141.5T720-440q83 0 141.5 58.5T920-240q0 83-58.5 141.5T720-40Zm0-60q54 0 93.5-36t45.5-89q-5 2-9.5 3.5T840-220h-40q-17 0-28.5-11.5T760-260v-20h-80v-40q0-17 11.5-28.5T720-360h20q0-5 1-9.5t3-8.5q-6-1-12-1.5t-12-.5q-58 0-99 41t-41 99h80q33 0 56.5 23.5T740-160v20h-60v34q10 3 19.5 4.5T720-100Z"/></svg>    
                </div>
            </div>
        </div>
        <div class="group">
            <div class="wrapper" style="flex: 1;">
                <div class="text-content tab-btn" data-tab="planetSurface">
                    <span class="text-back">Изменение</span>
                    <span class="text-front">Карты</span>
                    <svg xmlns="http://www.w3.org/2000/svg" height="48px" viewBox="0 -960 960 960" width="48px" fill="#FFFFFF"><path d="m600-120-240-84-186 72q-20 8-37-4.5T120-170v-560q0-13 7.5-23t20.5-15l212-72 240 84 186-72q20-8 37 4.5t17 33.5v560q0 13-7.5 23T812-192l-212 72Zm-40-98v-468l-160-56v468l160 56Zm80 0 120-40v-474l-120 46v468Zm-440-10 120-46v-468l-120 40v474Zm440-458v468-468Zm-320-56v468-468Z"/></svg>
                </div>
            </div>
            <div class="wrapper" style="flex: 2;">
                <div class="text-content justify-end" id="open-planets-list">
                    <span class="text-back">Список</span>
                    <span class="text-front">Планет</span>
                </div>
                <img class="earth-image" alt="earth-image" src="./data/Earth_BW.png" />
            </div>
        </div>
        <div class="group">
            <div class="wrapper">
                <div class="text-content">
                    <span class="text-front">О написанном</span>
                    <p class="text-description">Lorem Ipsum - это текст-"рыба", часто используемый в печати и вэб-дизайне. Lorem Ipsum является стандартной "рыбой" для текстов на латинице с начала XVI века. В то время некий безымянный печатник создал большую коллекцию размеров и форм шрифтов, используя Lorem Ipsum для распечатки образцов. Lorem Ipsum не только успешно пережил без заметных изменений пять веков, но и перешагнул в электронный дизайн. Его популяризации в новое время послужили публикация листов Letraset с образцами Lorem Ipsum в 60-х годах и, в более недавнее время, программы электронной вёрстки типа Aldus PageMaker, в шаблонах которых используется Lorem Ipsum. Давно выяснено, что при оценке дизайна и композиции читаемый текст мешает сосредоточиться. Lorem Ipsum используют потому, что тот обеспечивает более или менее стандартное заполнение шаблона, а также реальное распределение букв и пробелов в абзацах, которое не получается при простой дубликации "Здесь ваш текст.. Здесь ваш текст.. Здесь ваш текст.." Многие программы электронной вёрстки и редакторы HTML используют Lorem Ipsum в качестве текста по умолчанию, так что поиск по ключевым словам "lorem ipsum" сразу показывает, как много веб-страниц всё ещё дожидаются своего настоящего рождения. За прошедшие годы текст Lorem Ipsum получил много версий. Некоторые версии появились по ошибке, некоторые - намеренно (например, юмористические варианты).</p>
                </div>
            </div>
        </div>

        <div class="icons-group">
            <button class="icon-btn tab-btn" data-tab="camera">
                <svg xmlns="http://www.w3.org/2000/svg"  viewBox="0 -960 960 960" fill="currentColor"><path d="M720-160v-560H240v560H120q-33 0-56.5-23.5T40-240v-480q0-33 23.5-56.5T120-800h720q33 0 56.5 23.5T920-720v480q0 33-23.5 56.5T840-160H720ZM160-720h-40v480h40v-480Zm640 0v480h40v-480h-40Zm0 0h40-40Zm-640 0h-40 40ZM360-80q-25 0-42.5-17.5T300-140v-160q0-25 17.5-42.5T360-360h40l40-40h80l40 40h40q25 0 42.5 17.5T660-300v160q0 25-17.5 42.5T600-80H360Zm120-70q29 0 49.5-20.5T550-220q0-29-20.5-49.5T480-290q-29 0-49.5 20.5T410-220q0 29 20.5 49.5T480-150Z"/></svg></button>
            <button class="icon-btn tab-btn" id="layers-settings" data-tab="display"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960" fill="currentColor"><path d="M480-400 40-640l440-240 440 240-440 240Zm0 160L63-467l84-46 333 182 333-182 84 46-417 227Zm0 160L63-307l84-46 333 182 333-182 84 46L480-80Zm0-411 273-149-273-149-273 149 273 149Zm0-149Z"/></svg></button>
            <button id="visual-settings" class="icon-btn tab-btn active" data-tab="visual"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960" fill="currentColor"><path d="M240-240h220v-160H240v160Zm0-200h220v-280H240v280Zm260 200h220v-280H500v280Zm0-320h220v-160H500v160ZM200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h560q33 0 56.5 23.5T840-760v80h80v80h-80v80h80v80h-80v80h80v80h-80v80q0 33-23.5 56.5T760-120H200Zm0-80h560v-560H200v560Zm0-560v560-560Z"/></svg></button>
            <button class="icon-btn" id="reset-settings"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960" fill="currentColor"><path d="M212-239q-43-48-67.5-110T120-480q0-150 105-255t255-105v-80l200 150-200 150v-80q-91 0-155.5 64.5T260-480q0 46 17.5 86t47.5 70l-113 85ZM480-40 280-190l200-150v80q91 0 155.5-64.5T700-480q0-46-17.5-86T635-636l113-85q43 48 67.5 110T840-480q0 150-105 255T480-120v80Z"/></svg></button>
            <button class="icon-btn" id="fullscreen"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960" fill="currentColor"><path d="M120-120v-240h80v104l124-124 56 56-124 124h104v80H120Zm480 0v-80h104L580-324l56-56 124 124v-104h80v240H600ZM324-580 200-704v104h-80v-240h240v80H256l124 124-56 56Zm312 0-56-56 124-124H600v-80h240v240h-80v-104L636-580ZM480-400q-33 0-56.5-23.5T400-480q0-33 23.5-56.5T480-560q33 0 56.5 23.5T560-480q0 33-23.5 56.5T480-400Z"/></svg></button>
        </div>
    </div>
    <div id="settings-panel" class="settings-panel hidden">
        <div class="settings-header">
            <h2>Настройки</h2>
            <button class="close-btn" id="close-settings"><svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#FFFFFF"><path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/></svg></button>
        </div>
        
        <div class="settings-content">
            <div class="tab-content" data-tab="visual">
                <div class="setting-group">
                    <label class="setting-label">
                        <input type="checkbox" id="setting-shadows" checked>
                        <span>Тени</span>
                    </label>
                    <span class="setting-description">Включить рендеринг теней (влияет на производительность)</span>
                </div>
                
                <div class="setting-group">
                    <label class="setting-label-range">Bloom эффект</label>
                    <input type="range" id="setting-bloom" min="0" max="2" step="0.1" value="1.0">
                    <span class="range-value">1.0</span>
                </div>
                
                <div class="setting-group">
                    <label class="setting-label-range">Ambient Occlusion</label>
                    <input type="range" id="setting-ao" min="0" max="1" step="0.1" value="0.5">
                    <span class="range-value">0.5</span>
                </div>
                
                <div class="setting-group">
                    <label class="setting-label-range">Яркость сцены</label>
                    <input type="range" id="setting-brightness" min="0.5" max="2" step="0.1" value="1.0">
                    <span class="range-value">1.0</span>
                </div>
                
                <div class="setting-group">
                    <label class="setting-label-select">Цветовая схема UI</label>
                    <select id="setting-theme">
                        <option value="dark" selected>Темная</option>
                        <option value="light">Светлая</option>
                    </select>
                </div>
            </div>
            <div class="tab-content" data-tab="camera">
                <div class="setting-group">
                    <label class="setting-label-range">Скорость зума</label>
                    <input type="range" id="setting-zoom-speed" min="0.5" max="2" step="0.1" value="1.0">
                    <span class="range-value">1.0x</span>
                </div>

                <div class="setting-group">
                    <label class="setting-label-range">FOV камеры</label>
                    <input type="range" id="setting-fov" min="30" max="120" step="5" value="75">
                    <span class="range-value">75°</span>
                </div>
                
                <div class="setting-group">
                    <label class="setting-label-range">Инерция камеры</label>
                    <input type="range" id="setting-inertia" min="0.01" max="0.2" step="0.01" value="0.05">
                    <span class="range-value">0.05</span>
                </div>
                <div class="setting-group">
                    <label class="setting-label">
                        <input type="checkbox" id="setting-autofocus">
                        <span>Автофокус на объекте</span>
                    </label>
                </div>
                
                <div class="setting-group">
                    <label class="setting-label-range">Мин. расстояние</label>
                    <input type="range" id="setting-min-distance" min="0.1" max="10" step="0.1" value="1">
                    <span class="range-value">1 км</span>
                </div>
                
                <div class="setting-group">
                    <label class="setting-label-range">Макс. расстояние</label>
                    <input type="range" id="setting-max-distance" min="100" max="5000" step="100" value="1000">
                    <span class="range-value">1000 км</span>
                </div>
            </div>
            <div class="tab-content" data-tab="display">
                <div class="setting-group">
                    <label class="setting-label">
                        <input type="checkbox" id="setting-show-orbits" checked>
                        <span>Показывать орбиты</span>
                    </label>
                </div>
                
                <div class="setting-group">
                    <label class="setting-label">
                        <input type="checkbox" id="setting-show-labels" checked>
                        <span>Показывать метки</span>
                    </label>
                </div>
                
            </div>
            <div class="tab-content" data-tab="earthOrbit">
                <div class="setting-group">
                    <label class="setting-label-range">Частицы Земли</label>
                    <input type="range" id="setting-earth-particles" min="10000" max="100000" step="5000" value="60000">
                    <span class="range-value">60000</span>
                </div>
                
                <div class="setting-group">
                    <label class="setting-label-range">Частицы атмосферы</label>
                    <input type="range" id="setting-atmosphere-particles" min="5000" max="50000" step="2500" value="30000">
                    <span class="range-value">30000</span>
                </div>
                
                <div class="setting-group">
                    <label class="setting-label-range">Скорость охлаждения</label>
                    <input type="range" id="setting-cooling-rate" min="0.99" max="0.999" step="0.001" value="0.998">
                    <span class="range-value">0.998</span>
                </div>
                
                <div class="setting-group">
                    <label class="setting-label-range">Сила гравитации</label>
                    <input type="range" id="setting-gravity" min="0" max="1" step="0.1" value="0.3">
                    <span class="range-value">0.3</span>
                </div>
                
                <div class="setting-group">
                    <label class="setting-label-range">Радиус атмосферы</label>
                    <input type="range" id="setting-atmosphere-radius" min="5" max="10" step="0.5" value="7">
                    <span class="range-value">7 км</span>
                </div>
                
                <div class="setting-group">
                    <label class="setting-label-range">Затухание частиц</label>
                    <input type="range" id="setting-particle-damping" min="0.95" max="0.999" step="0.001" value="0.999">
                    <span class="range-value">0.999</span>
                </div>
            </div>
            <div class="tab-content" data-tab="planetSurface">
                <div class="setting-group">
                    <label class="setting-label-range">Плотность облаков</label>
                    <input type="range" id="setting-cloud-density" min="0" max="2" step="0.1" value="0.8">
                    <span class="range-value">0.8</span>
                </div>
                
                <div class="setting-group">
                    <label class="setting-label-range">Скорость анимации облаков</label>
                    <input type="range" id="setting-cloud-speed" min="0" max="3" step="0.1" value="1.0">
                    <span class="range-value">1.0x</span>
                </div>
                
                <div class="setting-group">
                    <label class="setting-label-range">Радиус облаков</label>
                    <input type="range" id="setting-cloud-radius" min="40" max="150" step="10" value="80">
                    <span class="range-value">80</span>
                </div>
                
                <div class="setting-group">
                    <label class="setting-label-range">Радиус взрыва</label>
                    <input type="range" id="setting-explosion-radius" min="50" max="300" step="10" value="150">
                    <span class="range-value">150</span>
                </div>
                
                <div class="setting-group">
                    <label class="setting-label-range">Длительность взрыва</label>
                    <input type="range" id="setting-explosion-duration" min="0.5" max="5" step="0.5" value="2.0">
                    <span class="range-value">2.0с</span>
                </div>
                
                <div class="setting-group">
                    <label class="setting-label">
                        <input type="checkbox" id="setting-explosion-glow" checked>
                        <span>Свечение взрыва</span>
                    </label>
                </div>
            </div>
            <div class="tab-content" data-tab="filters">
                <div class="setting-group">
                    <label class="setting-label-input">Поиск объекта</label>
                    <input type="text" id="setting-search" placeholder="Введите название..." value="">
                </div>
                
                <div class="setting-group">
                    <label class="setting-label-range">Мин. размер астероида (км)</label>
                    <input type="range" id="setting-size-min" min="0" max="1000" step="10" value="0">
                    <span class="range-value">0</span>
                </div>
                
                <div class="setting-group">
                    <label class="setting-label-range">Макс. размер астероида (км)</label>
                    <input type="range" id="setting-size-max" min="0" max="10000" step="100" value="10000">
                    <span class="range-value">10000</span>
                </div>
                
                <div class="setting-group">
                    <label class="setting-label-select">Тип астероидов</label>
                    <select id="setting-danger-filter">
                        <option value="all" selected>Все</option>
                        <option value="pha">Только PHA</option>
                        <option value="neo">Только NEO</option>
                    </select>
                </div>
                
                <div class="setting-group">
                    <label class="setting-label">
                        <input type="checkbox" id="setting-hide-small">
                        <span>Скрыть малые объекты</span>
                    </label>
                </div>
                
                <div class="setting-group">
                    <label class="setting-label-range">Мин. видимый размер</label>
                    <input type="range" id="setting-min-visible" min="0.01" max="1" step="0.01" value="0.1">
                    <span class="range-value">0.1</span>
                </div>
            </div>
            <div class="tab-content" data-tab="asteroids">
                <div class="setting-group">
                    <label class="setting-label-range">Макс. количество астероидов</label>
                    <input type="range" id="setting-max-asteroids" min="1000" max="100000" step="1000" value="40000">
                    <span class="range-value">40000</span>
                </div>
                
                <div class="setting-group">
                    <label class="setting-label-range">Размер астероидов</label>
                    <input type="range" id="setting-asteroid-size" min="0.01" max="0.1" step="0.01" value="0.02">
                    <span class="range-value">0.02</span>
                </div>

                <div class="setting-group">
                    <label class="setting-label-color">Цвет опасных астероидов (PHA)</label>
                    <input type="color" id="setting-pha-color" value="#ff0000">
                </div>
                
                <div class="setting-group">
                    <label class="setting-label-color">Цвет обычных астероидов</label>
                    <input type="color" id="setting-asteroid-color" value="#8b7355">
                </div>
            </div>
        </div>
        
        <div class="settings-footer">
            <button class="btn primary" id="apply-settings">Применить</button>
        </div>
    </div>

    <div id="planets-panel" class="settings-panel hidden">
        <div class="settings-header">
            <h2>Список планет</h2>
            <button class="close-btn" id="close-planets">
                <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#FFFFFF">
                    <path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/>
                </svg>
            </button>
        </div>
        
        <div class="settings-content">
            <!-- Поиск планет -->
            <div class="setting-group">
                <label class="setting-label-input">Поиск планеты</label>
                <input type="text" id="planet-search" placeholder="Введите название планеты...">
            </div>

            <!-- Список планет -->
            <div id="planets-list" class="planets-list">
                <!-- Планеты будут добавлены динамически через JavaScript -->
            </div>
        </div>
        
        <div class="settings-footer">
            <button class="btn primary" id="focus-selected-planet">Фокус на планете</button>
            <button class="btn" id="clear-planet-selection">Очистить выбор</button>
        </div>
    </div>
        
    <!-- Загрузка основного модуля -->
    <script type="module" src="./main.js"></script>
</body>
</html>